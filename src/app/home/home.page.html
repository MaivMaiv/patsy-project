<ion-menu menuId="first-menu" contentId="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-title><img src="/assets/logo_patsy.png"></ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-item (click)="home()" button>
      <ion-icon class="menu-icon" size="large" slot="end" name="cash-outline"></ion-icon>
      <ion-label class="menu-text">Cashier</ion-label>
    </ion-item>
      <ion-item (click)="points()" button>
        <ion-icon class="menu-icon" size="large" slot="end" name="wallet-outline"></ion-icon>
        <ion-label class="menu-text">Points</ion-label>
      </ion-item>
      <ion-item (click)="inventory()" button>
        <ion-icon class="menu-icon" size="large" slot="end" name="file-tray-stacked-outline"></ion-icon>
        <ion-label class="menu-text">Inventory</ion-label>
      </ion-item>
      <ion-item (click)="report()" button>
        <ion-icon class="menu-icon" size="large" slot="end" name="clipboard-outline"></ion-icon>
        <ion-label class="menu-text">Report</ion-label>
      </ion-item>
      <ion-item (click)="exit()" button>
        <ion-icon class="menu-icon" size="large" slot="end" name="exit-outline"></ion-icon>
        <ion-label class="menu-text">Exit</ion-label>
      </ion-item>
  </ion-content>
</ion-menu>

<div class="ion-page" id="main-content">
  <ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size="9">
        <ion-header>
          <ion-toolbar>
            <ion-buttons slot="start">
              <ion-icon (click)="openMenu()" size="large" name="menu"></ion-icon>
            </ion-buttons>
          <ion-searchbar #searchBar (ionInput)="searchProduct(searchBar.value)"></ion-searchbar>
          </ion-toolbar>
        </ion-header>
      </ion-col>
      <ion-col size="3">
        <ion-header>
          <ion-item-divider>
            <ion-label class="item-list">TOTAL: </ion-label>
            <h1 slot="end">P {{totalAmount}}.00</h1>
          </ion-item-divider> 
        </ion-header>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="9">
          <div class="ion-text-center">
            <ion-button (click)="filterProducts('brewed')" class="filter-button" color="light"><ion-icon name="cafe"></ion-icon>Brewed</ion-button>
            <ion-button (click)="filterProducts('espresso')" class="filter-button" color="light"><ion-icon name="water"></ion-icon>Espresso</ion-button>
            <ion-button (click)="filterProducts('dine-In')" class="filter-button" color="light"><ion-icon name="nutrition"></ion-icon>Dine-In</ion-button>
            <ion-button (click)="filterProducts('non-Coffee')" class="filter-button" color="light"><ion-icon name="ice-cream"></ion-icon>Non-Coffee</ion-button>
            <ion-button (click)="filterProducts('mocktails')" class="filter-button" color="light"><ion-icon name="beer"></ion-icon>Mocktails</ion-button>
            <ion-button (click)="filterProducts('toasties')" class="filter-button" color="light"><ion-icon name="pizza"></ion-icon>Toasties</ion-button>
            <ion-button (click)="filterProducts('specials')" class="filter-button" color="light"><ion-icon name="heart"></ion-icon>Specials</ion-button>
            <ion-button (click)="filterProducts('all')" class="filter-button" color="light"><ion-icon name="star"></ion-icon>All</ion-button>
          </div>
      </ion-col>
      <ion-col size="3">
        <div id="checkout-container">
          <ion-button class="checkout-button" expand="block" [disabled]="cartCounter.length === 0" (click)="checkout()" slot="end" color="danger">Checkout</ion-button>
        </div>
      </ion-col>
      </ion-row>
    <ion-row>
      <ion-col size="9">
                  <!-- Button filter is on -->
                  <ion-grid *ngIf="isFiltered === 'true' " class="ion-align-items-center">
                    <ion-row>
                      <ion-col class="centered-column" size="3" *ngFor="let prod of filteredProducts">
                        <div [ngClass]="'card-condition-' + prod.productCondition">
                          <div>
                            <img [src]="prod.productImage" style="width:100%; padding: 5px;"/>
                          </div>
                          <div class="main-condition">
                            <ion-label>
                              <h1>{{ prod.productName }}</h1>
                              <h2>P {{ prod.productCost }}.00</h2>
                            </ion-label>
                              <div class="ion-text-center">
                                <ion-button class="delBtn" (click)="addAmount(prod.productName ,prod.productCost)">+</ion-button>
                                <ion-button class="edtBtn" (click)="subAmount(prod.productName ,prod.productCost)">-</ion-button>
                              </div>
                          </div>
                        </div>
                      </ion-col>
                    </ion-row>          
                  </ion-grid>
                <!-- Filters are off -->
                  <ion-grid *ngIf="isFiltered === 'false' " class="ion-align-items-center">
                    <ion-row>
                      <ion-col class="centered-column" size="3" *ngFor="let prod of products">
                        <div [ngClass]="'card-condition-' + prod.productCondition">
                          <div>
                            <img [src]="prod.productImage" style="width:100%; padding: 5px;"/>
                          </div>
                          <div class="main-condition">
                            <ion-label>
                              <h1>{{ prod.productName }}</h1>
                              <h2>P {{ prod.productCost }}.00</h2>
                            </ion-label>
                              <div class="ion-text-center">
                                <ion-button class="delBtn" (click)="addAmount(prod.productName ,prod.productCost)">+</ion-button>
                                <ion-button class="edtBtn" (click)="subAmount(prod.productName ,prod.productCost)">-</ion-button>
                              </div>
                          </div>
                        </div>
                      </ion-col>
                    </ion-row>          
                  </ion-grid>
                <!-- Search filter is on -->
                  <ion-grid *ngIf="isFiltered === 'tralse' " class="ion-align-items-center">
                    <ion-row>
                      <ion-col class="centered-column" size="3" *ngFor="let prod of searchedProducts">
                        <div [ngClass]="'card-condition-' + prod.productCondition">
                          <div>
                            <img [src]="prod.productImage" style="width:100%; padding: 5px;"/>
                          </div>
                          <div class="main-condition">
                            <ion-label>
                              <h1>{{ prod.productName }}</h1>
                              <h2>P {{ prod.productCost }}.00</h2>
                            </ion-label>
                              <div class="ion-text-center">
                                <ion-button class="delBtn" (click)="addAmount(prod.productName ,prod.productCost)">+</ion-button>
                                <ion-button class="edtBtn" (click)="subAmount(prod.productName ,prod.productCost)">-</ion-button>
                              </div>
                          </div>
                        </div>
                      </ion-col>
                    </ion-row>          
                  </ion-grid>
      </ion-col>
      <ion-col size="3">
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-list>
                <ion-item *ngFor="let cart of cartCounter">
                  <ion-label class="item-list">{{cart.cartName}}</ion-label>
                  <ion-label slot="end" class="item-list">P {{cart.cartCost}}.00</ion-label>
                </ion-item>
              </ion-list>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-col>
    </ion-row>
    
  </ion-grid>
</ion-content>

